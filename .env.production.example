# ============================================
# iFut Backend - Configuração de Produção
# ============================================
# Copie este arquivo para .env e configure os valores
# NUNCA commite o arquivo .env no repositório!
# ============================================

# --------------------------------------------
# AMBIENTE
# --------------------------------------------
# Ambiente de execução: development, production, test
NODE_ENV=production

# --------------------------------------------
# SERVIDOR
# --------------------------------------------
# Porta em que a aplicação irá rodar
# Em produção, geralmente 3000 (Nginx faz proxy)
PORT=3000

# Host de binding (0.0.0.0 para aceitar conexões externas)
HOST=0.0.0.0

# --------------------------------------------
# BANCO DE DADOS
# --------------------------------------------
# URL de conexão PostgreSQL
# Formato: postgresql://USUARIO:SENHA@HOST:PORTA/BANCO
# Use senhas fortes com caracteres especiais
DATABASE_URL=postgresql://ifut_prod:SuaSenhaSegura123!@localhost:5432/ifut_production

# Pool de conexões (ajustar conforme carga esperada)
# DATABASE_POOL_MIN=2
# DATABASE_POOL_MAX=10

# --------------------------------------------
# AUTENTICAÇÃO JWT
# --------------------------------------------
# Chave secreta para assinar tokens JWT
# IMPORTANTE: Use uma string longa e aleatória (mínimo 32 caracteres)
# Dica: openssl rand -base64 64
JWT_SECRET=ALTERE_PARA_UMA_CHAVE_SEGURA_COM_MINIMO_32_CARACTERES_ALEATORIOS

# Tempo de expiração do token
# Formatos: 24h, 7d, 1h, 30m, etc.
JWT_EXPIRES_IN=24h

# Tempo de expiração do refresh token (opcional)
JWT_REFRESH_EXPIRES_IN=7d

# --------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# --------------------------------------------
# Origens permitidas para requisições CORS
# Separar múltiplas origens por vírgula
# Exemplo: https://app.ifut.com.br,https://admin.ifut.com.br
CORS_ORIGIN=https://seu-frontend.com.br

# Métodos HTTP permitidos
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS

# Headers permitidos
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Permitir credenciais (cookies, headers de autenticação)
CORS_CREDENTIALS=true

# --------------------------------------------
# RATE LIMITING (Proteção contra DDoS/Abuso)
# --------------------------------------------
# Janela de tempo em milissegundos (60000 = 1 minuto)
RATE_LIMIT_WINDOW=60000

# Máximo de requisições por IP na janela
RATE_LIMIT_MAX=100

# Rate limit específico para autenticação (mais restritivo)
RATE_LIMIT_AUTH_MAX=10

# Rate limit para criação de recursos
RATE_LIMIT_CREATE_MAX=30

# --------------------------------------------
# CACHE
# --------------------------------------------
# TTL do cache em segundos (300 = 5 minutos)
CACHE_TTL=300

# Cache para listagem de campeonatos (em segundos)
CACHE_CHAMPIONSHIPS_TTL=60

# Cache para classificações (em segundos)
CACHE_STANDINGS_TTL=120

# Cache para estatísticas (em segundos)
CACHE_STATISTICS_TTL=180

# --------------------------------------------
# LOGGING
# --------------------------------------------
# Nível de log: error, warn, info, debug
LOG_LEVEL=info

# Formato do log: json, simple
LOG_FORMAT=json

# --------------------------------------------
# SEGURANÇA ADICIONAL
# --------------------------------------------
# Habilitar helmet.js (headers de segurança)
HELMET_ENABLED=true

# Habilitar compressão HTTP
COMPRESSION_ENABLED=true

# Limite de tamanho do body (em bytes)
BODY_LIMIT=10485760

# --------------------------------------------
# UPLOAD DE ARQUIVOS (se implementado)
# --------------------------------------------
# Tamanho máximo de upload em bytes (5MB = 5242880)
# UPLOAD_MAX_SIZE=5242880

# Tipos de arquivo permitidos
# UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp

# Diretório de uploads
# UPLOAD_DIR=/home/ifut/uploads

# --------------------------------------------
# EMAIL (se implementado)
# --------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=seu-email@gmail.com
# SMTP_PASS=sua-senha-de-app
# SMTP_FROM=noreply@ifut.com.br

# --------------------------------------------
# MONITORAMENTO (opcional)
# --------------------------------------------
# URL do webhook para alertas
# WEBHOOK_ALERT_URL=https://hooks.slack.com/services/xxx

# Sentry DSN para rastreamento de erros
# SENTRY_DSN=https://xxx@sentry.io/xxx

# --------------------------------------------
# CONFIGURAÇÕES ESPECÍFICAS
# --------------------------------------------
# Número máximo de jogadores por time
MAX_PLAYERS_PER_TEAM=30

# Número máximo de times por campeonato
MAX_TEAMS_PER_CHAMPIONSHIP=32

# Habilitar documentação Swagger em produção
SWAGGER_ENABLED=true
